**План тестирования:**

Перечень автоматизируемых сценариев:
1. Название: Оплата тура по валидной дебетовой карте
    Предусловия: запустить БД (\gate-simulator> docker-compose up --build), 
        запустить сервер карт (> npm start), запустить jar-файл (> java -jar aqa-shop.jar), 
        в браузере запустить http://localhost:8080/
    Шаги:
    1. Нажать кнопку "Купить"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    2. Ввести в поле "месяц" - 09
    3. Ввести в поле "год" - 24
    4. Ввести в поле "Владедец" - Ivan Korolev
    5. Ввести в поле "CCV" - 111
    6. Нажать кнопку "Продолжить"
    Ожидаемый результат: Выходит pop-up "Успешно Операция одобрена банком", В БД есть запись об успешной транзации
2. Название: Оплата тура по валидной кредитной карте
   Предусловия:
   Шаги:
    1. Нажать кнопку "Купить в кредит" 
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4442
    3. Ввести в поле "месяц" - 01
    4. Ввести в поле "год" - 27
    5. Ввести в поле "Владедец" - Korolev
    6. Ввести в поле "CCV" - 999
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Выходит pop-up "Успешно Операция одобрена банком", В БД есть запись об успешной транзации
3. Название: Оплата тура по невалидному номеру дебитовой карты
   Предусловия:
   Шаги:
    1. Нажать кнопку "Купить"
    1. Ввести в поле "Номер карты" - 4444 4444 4444 4440
    2. Ввести в поле "месяц" - 09
    3. Ввести в поле "год" - 24
    4. Ввести в поле "Владедец" - Ivan Korolev
    5. Ввести в поле "CCV" - 999
    6. Нажать кнопку "Продолжить"
   Ожидаемый результат: Выходит pop-up "Ошибка! Банк отказал в проведении операции", В БД нет запись об успешной транзации
4. Название: Оплата тура по невалидному CCV дебетовой карты
   Предусловия:
   Шаги:
    1. Нажать кнопку "Купить"
    1. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    2. Ввести в поле "месяц" - 09
    3. Ввести в поле "год" - 24
    4. Ввести в поле "Владедец" - Ivan Korolev
    5. Ввести в поле "CCV" - 000!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    6. Нажать кнопку "Продолжить"
       Ожидаемый результат: Выходит pop-up "Ошибка! Банк отказал в проведении операции", В БД нет запись об успешной транзации
5. Название: Оплата тура по невалидному имени пользователя дебетовой карты
   Предусловия:
   Шаги:
    1. Нажать кнопку "Купить"
    1. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    2. Ввести в поле "месяц" - 09
    3. Ввести в поле "год" - 24
    4. Ввести в поле "Владедец" - Иван Королев
    5. Ввести в поле "CCV" - 123
    6. Нажать кнопку "Продолжить"
    Ожидаемый результат: Выходит pop-up "Ошибка! Банк отказал в проведении операции", В БД нет запись об успешной транзации
6. Название: Оплата тура по просроченной дебетовой карты
   Предусловия:
   Шаги:
    1. Нажать кнопку "Купить"
    1. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    2. Ввести в поле "месяц" - 01
    3. Ввести в поле "год" - 22
    4. Ввести в поле "Владедец" - Ivan Korolev
    5. Ввести в поле "CCV" - 123
    6. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "Год" - "Истек срок действия карты", В БД нет запись об успешной транзации
8. Название: Оплата тура по невалидному CCV кредитной карты
   Предусловия:
   Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4442
    3. Ввести в поле "месяц" - 01
    4. Ввести в поле "год" - 27
    5. Ввести в поле "Владедец" - Korolev
    6. Ввести в поле "CCV" - 000!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Выходит pop-up "Ошибка! Банк отказал в проведении операции", В БД нет запись об успешной транзации
9. Название: Оплата тура по невалидному имени пользователя кредитной карты
   Предусловия:
   Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4442
    3. Ввести в поле "месяц" - 01
    4. Ввести в поле "год" - 27
    5. Ввести в поле "Владедец" - Петя Петров
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Выходит pop-up "Ошибка! Банк отказал в проведении операции", В БД нет запись об успешной транзации
10. Название: Оплата тура по просроченной кредитной карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4442
    3. Ввести в поле "месяц" - 12
    4. Ввести в поле "год" - 21
    5. Ввести в поле "Владедец" - Ya Su
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "Год" - "Истек срок действия карты", В БД нет запись об успешной транзации
11. Название: Оплата тура без внесения данных номера дебетовой карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Поле "Номер карты" оставить пустым
    3. Ввести в поле "месяц" - 12
    4. Ввести в поле "год" - 21
    5. Ввести в поле "Владедец" - Ya Su
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "Номер карты" - "Неверный формат данных", В БД нет запись об успешной транзации
12. Название: Оплата тура без внесения данных CCV дебетовой карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Ввести в поле "месяц" - 12
    4. Ввести в поле "год" - 21
    5. Ввести в поле "Владедец" - Ya Su
    6. Поле "CCV" оставить пустым
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "CCV" - "Неверный формат данных", В БД нет запись об успешной транзации
13. Название: Оплата тура без внесения данных имени пользователя дебетовой карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Ввести в поле "месяц" - 12
    4. Ввести в поле "год" - 21
    5. Поле "Владедец" оставить пустым
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "Владедец" - "Неверный формат данных", В БД нет запись об успешной транзации
14. Название: Оплата тура без внесения данных месяца дебетовой карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Поле "месяц" оставить пустым
    4. Ввести в поле "год" - 21
    5. Ввести в поле "Владедец" - Ya Su
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "месяц" - "Неверный формат данных", В БД нет запись об успешной транзации
15. Название: Оплата тура без внесения данных года дебетовой карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Ввести в поле "месяц" - 12
    4. Поле "год" оставить пустым
    5. Ввести в поле "Владедец" - Ya Su
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "год" - "Неверный формат данных", В БД нет запись об успешной транзации
16. Название: Оплата тура без внесения данных номера кредитной карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Поле "Номер карты" оставить пустым
    3. Ввести в поле "месяц" - 12
    4. Ввести в поле "год" - 21
    5. Ввести в поле "Владедец" - Ya Su
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "Номер карты" - "Неверный формат данных", В БД нет запись об успешной транзации
17. Название: Оплата тура без внесения данных CCV кредитной карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Ввести в поле "месяц" - 12
    4. Ввести в поле "год" - 21
    5. Ввести в поле "Владедец" - Ya Su
    6. Поле "CCV"  оставить пустым
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "CCV" - "Неверный формат данных", В БД нет запись об успешной транзации
18. Название: Оплата тура без внесения данных имени пользователя кредитной карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Ввести в поле "месяц" - 12
    4. Ввести в поле "год" - 21
    5. Поле "Владедец" оставить пустым
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "Владедец" - "Неверный формат данных", В БД нет запись об успешной транзации
19. Название: Оплата тура без внесения данных месяца кредитной карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Поле "месяц"  оставить пустым
    4. Ввести в поле "год" - 21
    5. Ввести в поле "Владедец" - Ya Su
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "месяц" - "Неверный формат данных", В БД нет запись об успешной транзации
20. Название: Оплата тура без внесения данных года кредитной карты
    Предусловия:
    Шаги:
    1. Нажать кнопку "Купить в кредит"
    2. Ввести в поле "Номер карты" - 4444 4444 4444 4441
    3. Ввести в поле "месяц" - 12
    4. Поле "год"  оставить пустым
    5. Ввести в поле "Владедец" - Ya Su
    6. Ввести в поле "CCV" - 123
    7. Нажать кнопку "Продолжить"
    Ожидаемый результат: Появляется сообщение у поля "год" - "Неверный формат данных", В БД нет запись об успешной транзации**
 

Использования двух окружений:
   1. MySQL
   2. PostgreSQL


По итогу каждого сценария проверяется наличие записи в БД. 

При позитивной проверке- должна быть запись в БД о транзации 
(без указания данных о карте, но указании способа оплаты: Pyment или Credit).

При негативной проверке- не должно быть изменений в БД.


Перечень используемых инструментов с обоснованием выбора
    Selemiun- работа с UI сайта
    Allure- 
     - работа с запросами в БД


Перечень и описание возможных рисков при автоматизации
   1. Изменение локаторов элементов UI
   2. Проблема с подключением к БД


Интервальная оценка с учётом рисков в часах
    

План сдачи работ: когда будут готовы автотесты, результаты их прогона
    - Готовность автотестов- 21.08.23 г.
    - Готовность отчетности по прогонам - 27.08.23 г.